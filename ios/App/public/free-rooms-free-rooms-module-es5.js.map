{"version":3,"sources":["webpack:///src/app/pages/agendaweb/free-rooms/free-rooms.module.ts","webpack:///src/app/pages/agendaweb/free-rooms/free-rooms.page.html","webpack:///src/app/pages/agendaweb/free-rooms/free-rooms-routing.module.ts","webpack:///src/app/pages/agendaweb/free-rooms/free-rooms.page.ts","webpack:///src/app/pages/agendaweb/free-rooms/free-rooms.page.scss"],"names":["FreeRoomsPageModule","imports","declarations","routes","path","component","FreeRoomsPageRoutingModule","forChild","exports","FreeRoomsPage","formBuilder","roomsService","slideOpts","autoHeight","spaceBetween","pickerOptions","cssClass","labels","activeIndex","buildings","roomsForm","group","datefrom","required","dateto","Object","keys","length","event","target","value","parseInt","slides","slideTo","getActiveIndex","index","button","segment","children","click","getFreeRooms","Date","subscribe","res","setTimeout","selector","template"],"mappings":"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","file":"free-rooms-free-rooms-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FreeRoomsPageRoutingModule } from './free-rooms-routing.module';\r\n\r\nimport { FreeRoomsPage } from './free-rooms.page';\r\nimport { UtilityModule } from '../../utility/utility.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        IonicModule,\r\n        FreeRoomsPageRoutingModule,\r\n        UtilityModule\r\n    ],\r\n    declarations: [FreeRoomsPage]\r\n})\r\nexport class FreeRoomsPageModule { }\r\n","export default \"<ion-content class=\\\"page-content\\\">\\r\\n    <div class=\\\"flex flex-direction-column\\\">\\r\\n        <app-header>\\r\\n            <ion-toolbar>\\r\\n                <ion-title class=\\\"page-title\\\">Cerca aule libere</ion-title>\\r\\n            </ion-toolbar>\\r\\n            <ion-toolbar class=\\\"segment-toolbar\\\">\\r\\n                <ion-segment\\r\\n                    [value]=\\\"activeIndex\\\"\\r\\n                    (ionChange)=\\\"slideTo($event)\\\"\\r\\n                    swipeGesture=\\\"false\\\"\\r\\n                >\\r\\n                    <ion-segment-button\\r\\n                        *ngFor=\\\"let label of labels; index as i\\\"\\r\\n                        [value]=\\\"i\\\"\\r\\n                    >\\r\\n                        <ion-label>{{label}}</ion-label>\\r\\n                    </ion-segment-button>\\r\\n                </ion-segment>\\r\\n            </ion-toolbar>\\r\\n        </app-header>\\r\\n        <div class=\\\"page-main\\\">\\r\\n            <ion-slides\\r\\n                (ionSlideWillChange)=\\\"setActiveIndex()\\\"\\r\\n                [options]=\\\"slideOpts\\\"\\r\\n            >\\r\\n                <ion-slide>\\r\\n                    <form\\r\\n                        [formGroup]=\\\"roomsForm\\\"\\r\\n                        (submit)=\\\"getFreeRooms()\\\"\\r\\n                    >\\r\\n                        <ion-list class=\\\"app-list\\\">\\r\\n                            <ion-item>\\r\\n                                <ion-label>\\r\\n                                    <h3>Da</h3>\\r\\n                                </ion-label>\\r\\n                                <ion-datetime\\r\\n                                    cancelText=\\\"Cancella\\\"\\r\\n                                    displayFormat=\\\"DD/MM/YYYY, HH:mm\\\"\\r\\n                                    doneText=\\\"Ok\\\"\\r\\n                                    formControlName=\\\"datefrom\\\"\\r\\n                                    hourValues=\\\"08,09,10,11,12,13,14,15,16,17,18,19,20\\\"\\r\\n                                    minuteValues=\\\"0,30\\\"\\r\\n                                    mode=\\\"md\\\"\\r\\n                                    placeholder=\\\"Seleziona\\\"\\r\\n                                    [pickerOptions]=\\\"pickerOptions\\\"\\r\\n                                ></ion-datetime>\\r\\n                            </ion-item>\\r\\n                            <ion-item>\\r\\n                                <ion-label>\\r\\n                                    <h3>A</h3>\\r\\n                                </ion-label>\\r\\n                                <ion-datetime\\r\\n                                    cancelText=\\\"Cancella\\\"\\r\\n                                    displayFormat=\\\"DD/MM/YYYY, HH:mm\\\"\\r\\n                                    doneText=\\\"Ok\\\"\\r\\n                                    formControlName=\\\"dateto\\\"\\r\\n                                    hourValues=\\\"08,09,10,11,12,13,14,15,16,17,18,19,20\\\"\\r\\n                                    minuteValues=\\\"0,30\\\"\\r\\n                                    mode=\\\"md\\\"\\r\\n                                    placeholder=\\\"Seleziona\\\"\\r\\n                                    [pickerOptions]=\\\"pickerOptions\\\"\\r\\n                                ></ion-datetime>\\r\\n                            </ion-item>\\r\\n                        </ion-list>\\r\\n                        <ion-button\\r\\n                            class=\\\"form-submit form-submit--button\\\"\\r\\n                            type=\\\"submit\\\"\\r\\n                            [disabled]=\\\"!roomsForm.valid\\\"\\r\\n                        >\\r\\n                            Cerca\\r\\n                        </ion-button>\\r\\n                    </form>\\r\\n                </ion-slide>\\r\\n                <ion-slide>\\r\\n                    <ion-list\\r\\n                        *ngFor=\\\"let building of buildings | keyvalue\\\"\\r\\n                        class=\\\"app-list\\\"\\r\\n                    >\\r\\n                        <ng-container *ngIf=\\\"building.value.rooms.length > 0\\\">\\r\\n                            <ion-list-header>\\r\\n                                <ion-label>{{building.value.name}}</ion-label>\\r\\n                            </ion-list-header>\\r\\n                            <ion-item *ngFor=\\\"let room of building.value.rooms\\\">\\r\\n                                <ion-label>\\r\\n                                    <h3>{{room.name}}</h3>\\r\\n                                    <div>\\r\\n                                        <i class=\\\"fas fa-chair\\\"></i>\\r\\n                                        <span>{{room.capacity}}</span>\\r\\n                                    </div>\\r\\n                                </ion-label>\\r\\n                            </ion-item>\\r\\n                        </ng-container>\\r\\n                    </ion-list>\\r\\n                    <ion-list\\r\\n                        *ngIf=\\\"isEmpty()\\\"\\r\\n                        class=\\\"app-list\\\"\\r\\n                    >\\r\\n                        <ion-item>Nessun elemento da mostrare.</ion-item>\\r\\n                    </ion-list>\\r\\n                </ion-slide>\\r\\n            </ion-slides>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FreeRoomsPage } from './free-rooms.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FreeRoomsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FreeRoomsPageRoutingModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { IonSegment, IonSlides } from '@ionic/angular';\r\nimport { RoomsService } from 'src/app/services/agendaweb/rooms/rooms.service';\r\n\r\n@Component({\r\n    selector: 'app-free-rooms',\r\n    templateUrl: './free-rooms.page.html',\r\n    styleUrls: ['./free-rooms.page.scss'],\r\n})\r\nexport class FreeRoomsPage implements OnInit {\r\n\r\n    @ViewChild(IonSlides) slides: IonSlides;\r\n    @ViewChild(IonSegment) segment: IonSegment;\r\n\r\n    private readonly slideOpts: any = {\r\n        autoHeight: true,\r\n        spaceBetween: 20\r\n    };\r\n\r\n    private readonly pickerOptions: any = {\r\n        cssClass: 'form-picker'\r\n    };\r\n\r\n    private labels: String[];\r\n    private activeIndex: number;\r\n    private roomsForm: FormGroup;\r\n    private buildings: any;\r\n\r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        private roomsService: RoomsService\r\n    ) {\r\n        this.labels = ['Ricerca', 'Riepilogo'];\r\n        this.activeIndex = 0;\r\n        this.buildings = {};\r\n\r\n        this.roomsForm = this.formBuilder.group({\r\n            datefrom: new FormControl('', Validators.required),\r\n            dateto: new FormControl('', Validators.required)\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    /**\r\n     * Verifica se l'oggetto buildings è vuoto.\r\n     */\r\n    private isEmpty() {\r\n        return Object.keys(this.buildings).length === 0;\r\n    }\r\n\r\n    /**\r\n     * Aggiorna la slide alla pressione in base allo specifico Segment Button.\r\n     * \r\n     * @param event L'evento associato al Segment Button.\r\n     */\r\n    private async slideTo(event: CustomEvent) {\r\n        const target = event.target as HTMLIonSegmentButtonElement;\r\n        const value = parseInt(target.value);\r\n\r\n        await this.slides.slideTo(value);\r\n        this.activeIndex = value;\r\n    }\r\n\r\n    /**\r\n     * Aggiorna il Segment Button sulla base dell'indice corrente della slide.\r\n     */\r\n    private async setActiveIndex() {\r\n        const index = await this.slides.getActiveIndex();\r\n\r\n        if (index !== this.activeIndex) {\r\n            const button = this.segment['el'].children[index] as HTMLElement;\r\n            button.click();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recupera l'elenco delle aule libere dell'ateneo.\r\n     */\r\n    private getFreeRooms() {\r\n        this.roomsService.getFreeRooms(\r\n            new Date(this.roomsForm.value.datefrom),\r\n            new Date(this.roomsForm.value.dateto),\r\n        ).subscribe((res: any) => {\r\n            this.buildings = res;\r\n            setTimeout(() => {\r\n                this.activeIndex++;\r\n                this.slides.slideTo(this.activeIndex);\r\n            }, 300);\r\n        });\r\n    }\r\n}\r\n","export default \"ion-slide:first-child ion-item::part(native) {\\n  align-items: flex-start;\\n  flex-direction: column;\\n}\\nion-slide:first-child ion-label {\\n  transform: scale(1);\\n  font-size: 16px;\\n  font-weight: var(--ion-font-weight-semibold);\\n}\\nion-slide form {\\n  width: 100%;\\n}\\n.app-list {\\n  margin-bottom: 30px;\\n}\\n.app-list ion-item span {\\n  font-size: 14px;\\n}\\n.app-list ion-select {\\n  padding: 0;\\n  font-size: 14px;\\n}\\n.app-list ion-select::part(placeholder) {\\n  color: var(--ion-color-unisa-base);\\n  opacity: 1;\\n}\\n.app-list ion-select::part(icon) {\\n  display: none;\\n}\\n.app-list ion-datetime {\\n  padding: 0;\\n  color: var(--ion-color-unisa-base);\\n  font-size: 14px;\\n}\\nion-slide {\\n  flex-direction: column;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFnZW5kYXdlYi5wYWdlLnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXGZyZWUtcm9vbXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVRO0VBQ0ksdUJBQUE7RUFDQSxzQkFBQTtBQ0RaO0FESVE7RUFDSSxtQkFBQTtFQUNBLGVBQUE7RUFDQSw0Q0FBQTtBQ0ZaO0FETUk7RUFDSSxXQUFBO0FDSlI7QURRQTtFQUNJLG1CQUFBO0FDTEo7QURPSTtFQUNJLGVBQUE7QUNMUjtBRFFJO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUNOUjtBRFFRO0VBQ0ksa0NBQUE7RUFDQSxVQUFBO0FDTlo7QURTUTtFQUNJLGFBQUE7QUNQWjtBRFdJO0VBQ0ksVUFBQTtFQUNBLGtDQUFBO0VBQ0EsZUFBQTtBQ1RSO0FBaENBO0VBQ0ksc0JBQUE7QUFtQ0oiLCJmaWxlIjoiZnJlZS1yb29tcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2xpZGUge1xyXG4gICAgJjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgaW9uLWl0ZW06OnBhcnQobmF0aXZlKSB7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW9uLWxhYmVsIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogdmFyKC0taW9uLWZvbnQtd2VpZ2h0LXNlbWlib2xkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybSB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5hcHAtbGlzdCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG5cclxuICAgIGlvbi1pdGVtIHNwYW4ge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIH1cclxuXHJcbiAgICBpb24tc2VsZWN0IHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuXHJcbiAgICAgICAgJjo6cGFydChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXVuaXNhLWJhc2UpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJjo6cGFydChpY29uKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlvbi1kYXRldGltZSB7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXVuaXNhLWJhc2UpO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIH1cclxufVxyXG4iLCJpb24tc2xpZGU6Zmlyc3QtY2hpbGQgaW9uLWl0ZW06OnBhcnQobmF0aXZlKSB7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuaW9uLXNsaWRlOmZpcnN0LWNoaWxkIGlvbi1sYWJlbCB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IHZhcigtLWlvbi1mb250LXdlaWdodC1zZW1pYm9sZCk7XG59XG5pb24tc2xpZGUgZm9ybSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uYXBwLWxpc3Qge1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xufVxuLmFwcC1saXN0IGlvbi1pdGVtIHNwYW4ge1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uYXBwLWxpc3QgaW9uLXNlbGVjdCB7XG4gIHBhZGRpbmc6IDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbi5hcHAtbGlzdCBpb24tc2VsZWN0OjpwYXJ0KHBsYWNlaG9sZGVyKSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItdW5pc2EtYmFzZSk7XG4gIG9wYWNpdHk6IDE7XG59XG4uYXBwLWxpc3QgaW9uLXNlbGVjdDo6cGFydChpY29uKSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uYXBwLWxpc3QgaW9uLWRhdGV0aW1lIHtcbiAgcGFkZGluZzogMDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci11bmlzYS1iYXNlKTtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5pb24tc2xpZGUge1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufSJdfQ== */\";"]}